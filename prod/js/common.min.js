"use strict";window.onload=function(){$(".js-anchor").on("click",(function(t){t.preventDefault();var o=$(t.currentTarget).attr("data-target");$(window).innerWidth()<1280&&$(".js-burger").trigger("click"),$("html, body").animate({scrollTop:$("."+o).offset().top-86},1e3)})),Array.from($('input[type="tel"]')).map((function(t){IMask(t,{mask:"+{7} (000) 000-00-00"})})),Array.from($('input[name*="date"]')).map((function(t){IMask(t,{mask:Date})})),$(".textarea__hint, .input__hint").on("mouseenter",(function(t){$(t.currentTarget).find('[class*="hint-box"]').css("opacity","1")})),$(".textarea__hint, .input__hint").on("mouseleave",(function(t){$(t.currentTarget).find('[class*="hint-box"]').css("opacity","0")})),$(document).on("click",(function(t){$(t.target).closest(".popup__dropdown").length||$(".popup__dropdown").removeClass("popup__dropdown--active").find(".popup__dropdown-menu").slideUp(300)}));var t=0,o=function(){t=window.scrollY,$("body").css({position:"fixed",marginTop:"".concat(-t,"px")})},n=function(){$("body").css({position:"static",marginTop:"0"}),window.scrollTo(0,t)},e=function(t,o){$(t.target).closest(".popup__window").length&&o.hasClass("js-popup")||(n(),o.closest(".js-popup").hide(0))},p=function(t){o(),t.fadeIn(300)};$("body").on("click",".js-open-popup",(function(t){t.preventDefault();var o=$(this).attr("data-popup"),n=$('.js-popup[data-popup="'.concat(o,'"]'));p(n)})),$(".js-close-popup").on("click",(function(t){e(t,$(this))})),$(".js-form-submit").on("click",(function(t){t.preventDefault();var o=$(t.currentTarget),n=Array.from(o.closest("form").find("input[required]")),a=!0;n.map((function(t){var o=$(t);(""===$(t).val()||"dateOfBirth"===o.attr("name")&&10!==o.val().length||"tel"===o.attr("type")&&18!==o.val().length||"email"===o.attr("type")&&!/(.+)@(.+){2,}\.(.+){2,}/.test(o.val()))&&(a=!1)})),e(t,o),a?(o.closest("form").find("input").val(""),p($('.js-popup[data-popup="application-success"]'))):p($('.js-popup[data-popup="application-failed"]'))})),$(".popup__dropdown").on("click",(function(t){var o=$(t.currentTarget);o.toggleClass("popup__dropdown--active"),o.find(".popup__dropdown-menu").slideToggle(300)})),$(".popup__dropdown-item").on("click",(function(t){var o=$(t.currentTarget);console.log(o.closest("form").find('input[type="hidden"][name="type"]')),console.log(o.attr("data-value")),o.closest(".popup__dropdown").find(".popup__dropdown-value").text(o.text()),o.closest(".popup__window").find('input[type="hidden"][name="type"]').val(o.attr("data-value"))})),$(".js-burger").on("click",(function(t){$(t.currentTarget).toggleClass("header__burger--active"),$(".header__menu").toggleClass("header__menu--active"),$(".header__menu").hasClass("header__menu--active")?o():n()})),$(window).innerWidth()<1280&&($("textarea").attr("wrap","on"),$("textarea").on("input",(function(t){var o=$(t.currentTarget);o.css("height","5px"),o.css("height",o.prop("scrollHeight")+"px")})))};